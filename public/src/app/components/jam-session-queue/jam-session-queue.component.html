<form>
  <div class="form-row" style="margin-left: 0px">
    <div class="col-md-11 col-8">
      <input type="text" class="form-control" id="spotifySearchText" placeholder="Search for your favourite Tracks" (keyup)="spotifySearch($event)">
    </div>
    <div class="col-md-1 col-4">
      <button class="btn btn-primary btn-block" (click)="clear()">Clear</button>
    </div>
  </div>
</form>

<ul class="list-group list-group-flush">
  <li class="list-group-item d-flex align-items-center justify-content-between" *ngIf="currentSong !== undefined">
    Currently playing
  </li>
  <li class="list-group-item align-items-center active" *ngIf="currentSong !== undefined">
    <div class="row">
      <div class="col-md-1 col-3">
        <img [src]="currentSong.spotifyTrackFull.album.images[2].url" width="64" height="64">
      </div>
      <div class="col-md-10 col-7" style="font-size: 0.9em;">
        {{currentSong.spotifyTrackFull.name}}
      </div>
      <div class="col-md-1 col-2">
        <button *ngIf="playbackState.is_playing && userStatus.user === 'Host'" (click)="playback(false)" class="btn btn-primary" >Stop</button>
        <button *ngIf="!playbackState.is_playing && userStatus.user === 'Host'" (click)="playback(true)" class="btn btn-primary" >Play</button>
      </div>
    </div>
  </li>
</ul>

<ul class="list-group my-3 list-group-flush">

  <li class="list-group-item d-flex align-items-center justify-content-between" *ngIf="onSearch === true">
    Search results
  </li>

  <li class="list-group-item d-flex align-items-center justify-content-between" *ngIf="onSearch === false">
    Current Queue
  </li>
  <li class="list-group-item align-items-center" *ngFor="let song of songList" [ngClass]="{'active' : song.voted}">
    <div class="row no-gutters">
      <div class="col-md-1 col-3">
        <img [src]="song.spotifyTrackFull.album.images[2].url" width="64" height="64">
      </div>
      <div class="col-md-9 col-5" style="font-size: 0.9em">
        <p>{{song.spotifyTrackFull.name}}</p>
      </div>
      <div class="col-md-1 col-2">
        <span class="badge badge-primary badge-pill">Votes: {{song.votes}}</span>
      </div>
      <div class="col-md-1 col-2">
        <button (click)="vote(song)" class="btn btn-primary ml-2" *ngIf="song.voted" >Vote</button>
        <button (click)="vote(song)" class="btn btn-outline-primary ml-2 " *ngIf="!song.voted" >Vote</button>
      </div>
    </div>
  </li>
  <li class="list-group-item d-flex justify-content-between align-items-center" *ngIf="songList.length === 0">
    Currently there are no songs in the queue!
  </li>
</ul>

<button class="btn btn-danger btn-block my-3" (click)="leave()" *ngIf="userStatus.user === 'Guest'">Leave Party</button>

